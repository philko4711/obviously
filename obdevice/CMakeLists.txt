cmake_minimum_required (VERSION 2.6)
include(FindPkgConfig)

############################
# General project settings #
############################

PROJECT(OBDEVICE)
SET(OBDEVICE_VERSION_MAJOR 0)
SET(OBDEVICE_VERSION_MINOR 1)

PKG_CHECK_MODULES(XML libxml++-2.6)

INCLUDE_DIRECTORIES(/usr/include/openni
                    /usr/include/ni
                    $ENV{OBVIOUSLY_ROOT}
                    ../obcore/math
                    ../obcore
                    $ENV{OBVIOUSLY_ROOT}/../obviously_intern/thermo_cam/include
                    ${XML_INCLUDE_DIRS}
                    )

SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -D__OBVIOUSLY__")

# check if necessary files for PMD are installed
if(EXISTS /usr/include/PMDSDK)
  INCLUDE_DIRECTORIES(/usr/include/PMDSDK)
  MESSAGE("-- Found PMD device. Will build driver for PMD.")
endif() 

#####################################################################
# check if libLMS1xx for Sick laser scanner is installed
# see https://github.com/konradb3/libLMS1xx
if(EXISTS /usr/local/include/LMS1xx.h)
  MESSAGE("-- Found libLMS1xx. Will build driver for Sick LMS 100.")
endif()

ADD_LIBRARY(obdevice
	Kinect.cpp
	KinectPlayback.cpp
	UvcCam.cpp
	UvcVirtualCam.cpp
# uncomment this to include the tof camera of PMD
# CamNano.cpp
  KinectDevice.cpp
# uncomment this for include the thermo camera. I know that is not a realy nice solution...
#        KinectThermoDevice.cpp
   Xtion.cpp
   XtionDevice.cpp
   OpenNIDevice.cpp
   ParentDevice3D.cpp
# uncomment this to include the tof camera of PMD
        CameraCalibration.cpp
        KinectDevice.cpp
#        ThermoDevice.cpp
  SickLMS100.cpp
	)
	
	
